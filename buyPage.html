<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Page </title>
</head>
<body class="background">
  
    <style>
        .background{
            background-image:url(./assets/backImage.jpg);
            width:100%;
            height:100vh;
            background-size: cover;
            background-repeat: no-repeat;}
           
    </style>
    <main>
        <section style="height:auto; width:75%; font-size:2rem;padding:10%;">
           
            <section style="height:auto; width:100%;  padding:5%;">
               <ul>
                 <li>
                     <input style="height:3rem; width:75%;" id="City" type="text" placeholder="your City / Town">

                 </li>
                 <li>

                     <input style="height:3rem; width:75%;" id="name" type="text" placeholder="your name">
                 </li>
                 <li>

                     <input style="height:3rem; width:75%;" id="Contact" type="number" placeholder="your Contact">

                 </li>

               </ul>
                
                
                <div id="walls" style='height:15px; width:100%;padding-left:14%;'>
              
                <select id="noOfWalls" style="height:2rem;">
                    <option value="1">1</option>   
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                 
                </select>
            
                 <button style="height:2rem; width:55%;" id="submit">Select No of Walls</button>
                
                </div>
                <ol id="areaOfWalls" style="padding-top:5%;padding-bottom: 5%;">

                </ol>
             
                <div >
                    <button style="height:2rem; width:65%; margin: 10%;" id="dataEntry"> Order </button>
                </div>

            </section>
            
            
            
              <script type="module">
                  
                  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
                  import { getDatabase ,ref,set } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js";
              
                  const firebaseConfig = {
                    apiKey: "AIzaSyCkmRbUXh90SLe8tYCtwn20IbGBl4BJjQc",
                    authDomain: "roomify-2f219.firebaseapp.com",
                    projectId: "roomify-2f219",
                    storageBucket: "roomify-2f219.appspot.com",
                    messagingSenderId: "1005220900707",
                    appId: "1:1005220900707:web:31be48ad5eb451ebaa6d56",
                    measurementId: "G-WQSLRNEKL3"
                  };
                
                  // Initialize Firebase
                  const app = initializeApp(firebaseConfig);
                  const database = getDatabase(app);
                  const db = getDatabase(app);
                 
  
                  let clk = document.getElementById("dataEntry");
                  clk.addEventListener("click",function dataentry(){
                          const Name =document.getElementById("name").value;
                         const contact = document.getElementById("Contact").value;
                         const city =document.getElementById("City").value;
                         if(document.getElementById("height0")){var height1= document.getElementById("height0").value; var weidth1= document.getElementById("weidth0").value;} else {var height1 = 0;var weidth1 = 0;}
                         if(document.getElementById("height1")){var height2= document.getElementById("height1").value; var weidth2= document.getElementById("weidth1").value;} else {var height2 = 0;var weidth2 = 0;}
                         if(document.getElementById("height2")){var height3= document.getElementById("height2").value; var weidth3= document.getElementById("weidth2").value;} else {var height3 = 0;var weidth3 = 0;}
                         if(document.getElementById("height3")){var height4= document.getElementById("height3").value; var weidth4= document.getElementById("weidth3").value;} else {var height4 = 0;var weidth4 = 0;}
                         if(document.getElementById("height4")){var height5= document.getElementById("height4").value; var weidth5= document.getElementById("weidth4").value;} else {var height5 = 0;var weidth5 = 0;}

 
                         set(ref(db,'User/' + contact),{ name:Name,City:city,Height1:height1,Weidth1:weidth1,Height2:height2,Weidth2:weidth2, Height3:height3,Weidth3:weidth3, Height4:height4,Weidth4:weidth4, Height5:height5,Weidth5:weidth5 });
                        location.href='./index.html';
                         window.confirm("Your Order Is Taken you can check details from order Summary page")
                        })

                 </script>

            <script>
               
                btn = document.getElementById("submit");
                btn.addEventListener('click',function(){
                var noOfWalls = document.getElementById("noOfWalls").value;
                i = 0;
                for (i;i<noOfWalls;i++)
                { const ol = document.getElementById("areaOfWalls");
                  const list  = document.createElement("li");
                  const input = document.createElement("INPUT");
                  input.setAttribute("id","height"+i);
                  input.setAttribute("type","number");
                  input.setAttribute("placeholder",'height of wall in ft');
                  const input2 = document.createElement("INPUT");
                  input2.setAttribute("id","weidth"+i);
                  input2.setAttribute("type","number");
                  input2.setAttribute("placeholder",'weidth of wall in ft');
                  list.append(input);
                  list.append(input2);
                  list.style.padding="1rem";
                  list.style.fontSize='2rem'
                  list.style.color='white'

                  ol.append(list);
                  } 
                 });
                
            </script>
            
           
              
         </section>
          


        
    </main>
    

</body>
</html>