<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OrderSummary</title>
   
</head>
<body class="background">
    <style>
        .background{
            background-image:url(./assets/backImage.jpg);
            width:100%;
            height:100vh;
            background-size: cover;
            background-repeat: no-repeat;}
           
    </style>
      <h1 style="padding:1rem; font-weight: bold; font-family: sans-serif; color: aliceblue;">
        order Summary Page

      </h1>
    <main style="height:auto;width:75%;margin:15%;">
        
        <div style="padding:1rem;">
            <button style="height:2rem;width:100%;" onclick="location.href='./buyPage.html'">
                create a new Order 
            </button>
        </div>
        <div style="color: aliceblue;">
            Oeder Summary for 
            <div style="height:2rem;width:100%;">
                <input style="height:2rem; width:100%;" id="Contact" type="number" placeholder="your Number">
                <button style="height:2rem; width:100%;" id="submit">check order</button>
                <ol style="height:auto;width:75%;" id="fireData">
    
                </ol>
            </div>
            <script type="module" > 
        
              import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
              import { getDatabase ,ref,onValue } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js";
                  
                      const firebaseConfig = {
                        apiKey: "AIzaSyCkmRbUXh90SLe8tYCtwn20IbGBl4BJjQc",
                        authDomain: "roomify-2f219.firebaseapp.com",
                        projectId: "roomify-2f219",
                        storageBucket: "roomify-2f219.appspot.com",
                        messagingSenderId: "1005220900707",
                        appId: "1:1005220900707:web:31be48ad5eb451ebaa6d56",
                        measurementId: "G-WQSLRNEKL3"
                      };
                      
                      // Initialize Firebase
                      
    
                     let clk = document.getElementById("submit");
                     clk.addEventListener('click',
                     function showData(){
                         if(document.getElementById("Contact")){var num= document.getElementById("Contact").value;} else {var num='988095312';}
                         const app = initializeApp(firebaseConfig);
                         const db = getDatabase(app);
                         const reference = ref(db,'User/');
                         onValue(reference,(snapshot) => {
                          var  data = snapshot.child(num).val();
                          var Keys = Object.keys(data);
                          console.log(Keys.length);
                         for(const key of Keys){
                             console.log('key')
                             var li = document.createElement('li');
                             li.innerText = key+'='+data[key];
                             var firelist = document.getElementById('fireData');
                             firelist.append(li);
                         }                  
                         })
    
        })
    
                     
    
        
    
            </script>
        </div>
    </main>
</body>
</html>